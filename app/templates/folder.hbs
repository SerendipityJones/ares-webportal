{{page-title 'Files'}}

<h1>{{this.model.folder}}</h1>

<p><LinkTo @route="files"><i class="fa fa-long-arrow-alt-left" aria-hidden="true"></i> Back to Files</LinkTo></p>

<table class="table table-striped">

  {{#each this.model.files as |file|}}
  <tr>
  <td>
    
    <LinkTo @route="file" @models={{array file.folder file.name}}>{{file.name}}</LinkTo>
  
  <LinkTo @route="file" @models={{array file.folder file.name}}>
  <img src="/game/uploads/{{file.path}}" alt="{{file.name}}" class="thumbnail">
  </LinkTo>
  
  </td>
  <td>{{file.size}}KB</td>
  </tr>
  {{/each}}
</table>

<b>Folder Size:</b> {{this.model.folder_size}}KB

{{#if this.isApproved}}


<div class="row">
    <div class="col col-xs-12">
        <div class="pull-right">
          <button {{action (mut this.showUpload) true}} class="btn btn-primary">Upload</button>
  </div>
  </div>
</div>


  {{#if this.showUpload}}
    <FileUploader @uploaded={{action "uploaded"}} @folder="{{this.model.folder}}" />
  {{/if}}
{{/if}}